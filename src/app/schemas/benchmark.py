from datetime import datetime

from pydantic import BaseModel, Field


class BenchmarkResult(BaseModel):
    """Represents a single benchmarking result for a Large Language Model (LLM)."""

    request_id: str = Field(..., description='Unique identifier for the benchmarking request.')
    prompt_text: str = Field(..., description='The input prompt text used for the LLM.')
    generated_text: str = Field(..., description='The output text generated by the LLM.')
    token_count: int = Field(..., description='The number of tokens in the generated text.')
    time_to_first_token: int = Field(
        ..., description='The time taken to generate the first token (in milliseconds).'
    )
    time_per_output_token: int = Field(
        ..., description='The average time per output token (in milliseconds).'
    )
    total_generation_time: int = Field(
        ..., description='The total time to generate the response (in milliseconds).'
    )
    timestamp: datetime = Field(
        ..., description='The timestamp when the benchmarking result was recorded.'
    )


class BenchmarkAverageStats(BaseModel):
    """Represents the average performance statistics across multiple benchmarking results."""

    avg_token_count: float
    avg_time_to_first_token: float
    avg_time_per_output_token: float
    avg_total_generation_time: float
